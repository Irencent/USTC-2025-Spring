"0","# 计算每个国家的首尾年份差值"
"0","trend_change <- happiness_all %>%"
"0","  group_by(Country) %>%"
"0","  filter(n() >= 2) %>%"
"0","  arrange(Year) %>%"
"0","  summarise(Change = last(HappinessScore) - first(HappinessScore)) %>%"
"0","  arrange(desc(Change))"
"0",""
"0","# 上升国家"
"0","trend_change %>%"
"0","  top_n(10, Change) %>%"
"0","  ggplot(aes(x = reorder(Country, Change), y = Change, fill = Change)) +"
"0","  geom_bar(stat = ""identity"") +"
"0","  coord_flip() +"
"0","  labs(title = ""幸福指数提升最多的国家"", y = ""变化值"", x = """") +"
"0","  theme_minimal()"
