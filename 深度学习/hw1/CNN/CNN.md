# MNIST手写数字分类实验报告

姓名： 胡延伸	学号：PB22050983

## 一、实验概述

本实验基于MNIST数据集，研究不同网络深度和卷积核大小对分类性能的影响。实验采用1%数据采样（训练集480样本，验证集120样本，测试集100样本），在有限数据条件下探索模型优化方向。

## 二、实验设置

### 1. 数据准备
• **数据集**：MNIST手写数字数据集（28×28灰度图）
• **数据划分**：
  • 训练集：480样本（原始训练集的0.8%）
  • 验证集：120样本（原始训练集的0.2%）
  • 测试集：100样本（原始测试集的1%）
• **预处理**：`Normalize(mean=0.1307, std=0.3081)`

### 2. 模型架构
```python
class FlexibleCNN(nn.Module):
    def __init__(self, depths=[1,1], kernel_sizes=[3,3]):
        # 核心结构：
        # 多级卷积块（每块含Conv+BN+ReLU+自适应池化）
        # 全局平均池化 + 全连接层
```

### 3. 实验配置
| 对比维度     | 配置参数                                   | 训练参数                                   |
| ------------ | ------------------------------------------ | ------------------------------------------ |
| 网络深度实验 | shallow([1,0]), medium([2,1]), deep([3,2]) | Epochs=20<br>Batch=32<br />LR=0.001 (Adam) |
| 卷积核实验   | small(3×3), medium(5×5), large(7×7)        | 同上                                       |

## 三、实验结果与分析

### 1. 网络深度影响（固定3×3卷积核）
![](/Users/huyanshen/Desktop/深度学习/hw1/CNN/pics/Net_dep_comp.png)
*图1：不同深度网络的训练曲线*

| 网络类型 | 最佳验证准确率 | 训练/验证差距 |
| -------- | -------------- | ------------- |
| Shallow  | 27.50%         | 2.08%         |
| Medium   | 73.33%         | 17.09%        |
| Deep     | 92.50%         | 7.08%         |

**关键发现**：
• **深层网络最优**：Deep网络达到最高验证准确率，表明3层卷积在有限数据下具有最佳特征提取能力
• **中等网络过拟合**：Deep网络的训练准确率最终达到90.43%，但验证准确率仅73.33%
• **浅层网络欠拟合**：Shallow网络的训练/验证损失均高于其他模型，最终训练准确率仅27.50%

### 2. 卷积核影响（固定Medium深度）
![](/Users/huyanshen/Desktop/深度学习/hw1/CNN/pics/kernel_comp.png)  
*图2：不同卷积核大小的训练曲线*

| 卷积核 | 最佳验证准确率 |
| ------ | -------------- |
| 3×3    | 83.33%         |
| 5×5    | 86.67%         |
| 7×7    | 95.00%         |

**关键发现**：
• **大卷积核效率最佳**：7×7卷积核在验证准确率和训练速度上均表现最优